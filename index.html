<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TranOptim - Êô∫ËÉΩÁøªËØë‰∏éÊ∂¶Ëâ≤Â∑•ÂÖ∑</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <div class="main-content">
            <!-- ‰æßËæπÊ†è -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <h2>TranOptim</h2>
                    <div class="sidebar-actions">
                        <button class="new-chat-btn" id="newChatBtn">
                            <i class="bi bi-plus-lg"></i> Êñ∞ÂØπËØù
                        </button>
                        <button class="clear-chats-btn" id="clearChatsBtn">
                            <i class="bi bi-trash"></i> Ê∏ÖÁ©∫
                        </button>
                    </div>
                </div>
                <div class="conversation-list" id="conversationList">
                    <!-- ÂØπËØùÂàóË°®Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>

            <!-- ËÅäÂ§©Âå∫Âüü -->
            <div class="chat-container">
                <div class="chat-header">
                    <div class="app-title">TranOptim Êô∫ËÉΩÁøªËØë‰∏éÊ∂¶Ëâ≤Â∑•ÂÖ∑</div>
                    <div class="global-actions">
                        <!-- Â∑≤ÁßªÈô§APIÂØÜÈí•ÂíåÁΩëÁªú‰ª£ÁêÜÊåâÈíÆ -->
                    </div>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <!-- Ê¨¢ËøéÊ∂àÊÅØ -->
                    <div class="message system">
                        <div class="message-content">
                            <p>üëã Ê¨¢Ëøé‰ΩøÁî® TranOptim Êô∫ËÉΩÁøªËØë‰∏éÊ∂¶Ëâ≤Â∑•ÂÖ∑ÔºÅ</p>
                            <p>ÊÇ®ÂèØ‰ª•Áõ¥Êé•ËæìÂÖ•ÊñáÊú¨ËøõË°åÁøªËØëÔºåÊàñËÄÖ‰∏ä‰º†ÂõæÁâáËøõË°åÂõæÂÉèÊñáÊú¨ÁøªËØë„ÄÇ</p>
                        </div>
                    </div>
                </div>

                <!-- ËæìÂÖ•Âå∫Âüü -->
                <div class="chat-input-area">
                    <div class="input-wrapper">
                        <div class="input-container">
                            <div class="textarea-wrapper">
                                <textarea id="chatInput" class="chat-input" placeholder="ËæìÂÖ•ÊñáÊú¨Êàñ‰∏ä‰º†ÂõæÁâá..." rows="1"></textarea>
                            </div>
                            <div class="buttons-wrapper">
                                <div class="action-buttons">
                                    <button class="btn upload-btn" id="uploadBtn">
                                        <i class="bi bi-image"></i> ÂõæÁâá
                                    </button>
                                    <input type="file" id="imageUpload" class="image-upload" accept="image/*">
                                    <button class="btn primary-btn" id="translateBtn">
                                        <i class="bi bi-translate"></i> ÁøªËØë
                                    </button>
                                    <button class="btn secondary-btn" id="polishBtn">
                                        <i class="bi bi-magic"></i> Ê∂¶Ëâ≤
                                    </button>
                                </div>
                                <div class="settings-buttons">
                                    <button class="settings-btn" id="translateSettingsBtn">
                                        <i class="bi bi-gear"></i>
                                    </button>
                                    <button class="settings-btn" id="polishSettingsBtn">
                                        <i class="bi bi-sliders"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÁøªËØëËÆæÁΩÆÈù¢Êùø -->
                <div class="settings-panel" id="translateSettings">
                    <h3>
                        ÁøªËØëËÆæÁΩÆ
                        <button class="close-settings-btn" id="closeTranslateSettings">
                            <i class="bi bi-x"></i>
                        </button>
                    </h3>
                    <div class="settings-group">
                        <span class="settings-label">ÁøªËØëÊúçÂä°</span>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="gpt" name="translate-service" value="gpt" checked>
                                <label for="gpt">ChatGPT</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="gemini" name="translate-service" value="gemini">
                                <label for="gemini">Gemini</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="deepseek" name="translate-service" value="deepseek">
                                <label for="deepseek">DeepSeek</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="qwen" name="translate-service" value="qwen">
                                <label for="qwen">Qwen</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="doubao" name="translate-service" value="doubao">
                                <label for="doubao">Ë±ÜÂåÖ</label>
                            </div>
                        </div>
                    </div>
                    <div class="settings-group">
                        <span class="settings-label">Ê∫êËØ≠Ë®Ä</span>
                        <select id="sourceLanguage">
                            <option value="auto">Ëá™Âä®Ê£ÄÊµã</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="en">Ëã±Êñá</option>
                            <option value="ja">Êó•Êñá</option>
                            <option value="ko">Èü©Êñá</option>
                            <option value="fr">Ê≥ïÊñá</option>
                            <option value="de">Âæ∑Êñá</option>
                            <option value="es">Ë•øÁè≠ÁâôÊñá</option>
                            <option value="it">ÊÑèÂ§ßÂà©Êñá</option>
                            <option value="ru">‰øÑÊñá</option>
                        </select>
                    </div>
                    <div class="settings-group">
                        <span class="settings-label">ÁõÆÊ†áËØ≠Ë®Ä</span>
                        <select id="targetLanguage">
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="en">Ëã±Êñá</option>
                            <option value="ja">Êó•Êñá</option>
                            <option value="ko">Èü©Êñá</option>
                            <option value="fr">Ê≥ïÊñá</option>
                            <option value="de">Âæ∑Êñá</option>
                            <option value="es">Ë•øÁè≠ÁâôÊñá</option>
                            <option value="it">ÊÑèÂ§ßÂà©Êñá</option>
                            <option value="ru">‰øÑÊñá</option>
                        </select>
                    </div>
                </div>

                <!-- Ê∂¶Ëâ≤ËÆæÁΩÆÈù¢Êùø -->
                <div class="settings-panel" id="polishSettings">
                    <h3>
                        Ê∂¶Ëâ≤ËÆæÁΩÆ
                        <button class="close-settings-btn" id="closePolishSettings">
                            <i class="bi bi-x"></i>
                        </button>
                    </h3>
                    <div class="settings-group">
                        <span class="settings-label">Ê∂¶Ëâ≤ÊúçÂä°</span>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="polishGpt" name="polish-service" value="gpt" checked>
                                <label for="polishGpt">ChatGPT</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="polishGemini" name="polish-service" value="gemini">
                                <label for="polishGemini">Gemini</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="polishDeepseek" name="polish-service" value="deepseek">
                                <label for="polishDeepseek">DeepSeek</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="polishQwen" name="polish-service" value="qwen">
                                <label for="polishQwen">Qwen</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="polishDoubao" name="polish-service" value="doubao">
                                <label for="polishDoubao">Ë±ÜÂåÖ</label>
                            </div>
                        </div>
                    </div>
                    <div class="settings-group">
                        <span class="settings-label">Ê∂¶Ëâ≤È£éÊ†º</span>
                        <select id="polishStyle">
                            <option value="professional">‰∏ì‰∏öÊ≠£Âºè</option>
                            <option value="simple">ÁÆÄÊ¥ÅÊòé‰∫Ü</option>
                            <option value="creative">ÂàõÊÑèÊ¥ªÊ≥º</option>
                            <option value="academic">Â≠¶ÊúØ‰∏•Ë∞®</option>
                            <option value="normal">Ëá™ÁÑ∂ÊµÅÁïÖ</option>
                            <option value="rephrase">ÈáçÊñ∞Ë°®Ëø∞</option>
                        </select>
                    </div>
                    <div class="settings-group">
                        <span class="settings-label">Ê∂¶Ëâ≤ÊñπÂºè</span>
                        <div class="polish-description">
                            <p>ÁÇπÂáªÊ∂¶Ëâ≤ÂêéÔºåÁ≥ªÁªüÂ∞ÜËá™Âä®ÁîüÊàê‰∏§ÁßçÈ£éÊ†ºÁöÑÊ∂¶Ëâ≤ÁªìÊûúÔºö</p>
                            <p><strong>1. Â∏∏ËßÑ‰ºòÂåñ</strong>ÔºöÊ∂¶Ëâ≤ËØ≠Âè•‰Ωø‰πãÊõ¥ÈÄÇÂêàÂõæ‰π¶Âá∫ÁâàÔºåÈÄö‰øóÊòìÊáÇÔºåÊúóÊúó‰∏äÂè£ÔºåÁ¨¶Âêà‰∏≠ÊñáË°®Ëææ‰π†ÊÉØ</p>
                            <p><strong>2. ËΩ¨Êç¢ËØ≠Ë®ÄÈ£éÊ†º</strong>ÔºöÂà©Áî®Ëøë‰πâËØç„ÄÅÊîπÂèòËØ≠Âè•ÁªìÊûÑ„ÄÅÊîπÂèò‰∏ªËØ≠„ÄÅÂèçËØëÁ≠âÊñπÂºèÈáçÊñ∞Ë°®Ëø∞</p>
                        </div>
                    </div>
                    <div class="settings-group">
                        <span class="settings-label">ËßíËâ≤ËÆæÂÆö</span>
                        <div class="role-description">
                            <p>Ê∂¶Ëâ≤ËÄÖÂ∞ÜÊâÆÊºîÂõæ‰π¶‰ΩúÂÆ∂ÁöÑËßíËâ≤Ôºå‰∏ìÊ≥®‰∫éÊñáÊú¨Ê∂¶Ëâ≤Ôºå‰∏ç‰ºöÈ¢ùÂ§ñÊ∑ªÂä†Êñá‰∏≠Ê≤°ÊúâÁöÑÂÜÖÂÆπ</p>
                        </div>
                    </div>
                    <div class="settings-group">
                        <span class="settings-label">ËØ≠Ë®Ä</span>
                        <select id="polishLanguage">
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="en">Ëã±Êñá</option>
                            <option value="ja">Êó•Êñá</option>
                            <option value="ko">Èü©Êñá</option>
                            <option value="fr">Ê≥ïÊñá</option>
                            <option value="de">Âæ∑Êñá</option>
                            <option value="es">Ë•øÁè≠ÁâôÊñá</option>
                            <option value="it">ÊÑèÂ§ßÂà©Êñá</option>
                            <option value="ru">‰øÑÊñá</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Âä†ËΩΩË¶ÜÁõñÂ±Ç -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="spinner"></div>
        <div class="loading-text" id="loadingText">Ê≠£Âú®ÁøªËØë‰∏≠...</div>
        <div class="loading-timeout-hint" id="loadingTimeoutHint">
            Â¶ÇÊûúÂä†ËΩΩÊó∂Èó¥ËøáÈïøÔºåËØ∑<a href="javascript:void(0)" onclick="window.location.reload()">Âà∑Êñ∞È°µÈù¢</a>ÈáçËØï
        </div>
    </div>

    <!-- ÈÄöÁü•ÁªÑ‰ª∂ -->
    <div class="notification" id="notification"></div>

    <script src="js/app.js"></script>
    <script src="js/chat.js"></script>
</body>
</html>