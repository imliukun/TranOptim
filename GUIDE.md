# TranOptim 使用指南

## 目录

1. [环境准备](#环境准备)
2. [安装步骤](#安装步骤)
3. [配置API密钥](#配置api密钥)
4. [启动应用](#启动应用)
5. [基本操作指南](#基本操作指南)
6. [常见问题排查](#常见问题排查)
7. [进阶使用技巧](#进阶使用技巧)

## 环境准备

在开始使用TranOptim之前，请确保你的电脑已经安装以下软件：

- **Node.js**：版本14.0或更高。[下载地址](https://nodejs.org/)
- **npm**：通常随Node.js一起安装
- **浏览器**：推荐使用Chrome、Firefox或Edge等现代浏览器
- **网络连接**：需要稳定的网络连接以访问各AI服务API

要检查你是否已安装Node.js和npm，请在终端或命令提示符中运行：

```bash
node -v
npm -v
```

如果返回版本号，则表示已正确安装。

## 安装步骤

### 1. 获取代码

**方法一：使用Git克隆**

```bash
git clone https://github.com/yourusername/TranOptim.git
cd TranOptim
```

**方法二：下载ZIP文件**

1. 访问项目页面
2. 点击"Code"按钮，然后选择"Download ZIP"
3. 解压下载的文件
4. 在终端中进入解压后的文件夹

### 2. 安装依赖包

在项目根目录（包含package.json的目录）中运行：

```bash
npm install
```

这将安装项目所需的所有依赖包。安装过程可能需要几分钟，取决于你的网络速度。

## 配置API密钥

TranOptim支持多种AI服务，每种服务都需要相应的API密钥。以下是获取和配置密钥的步骤：

### 1. 创建配置文件

在项目根目录创建一个名为`.env`的文件（注意文件名以点开头）。

### 2. 设置API密钥

在`.env`文件中添加以下内容，并替换为你的实际API密钥：

```
PORT=3001
OPENAI_API_KEY=sk-your-openai-api-key
GEMINI_API_KEY=your-gemini-api-key
DEEPSEEK_API_KEY=your-deepseek-api-key
QWEN_API_KEY=your-qwen-api-key
DOUBAO_API_KEY=your-doubao-api-key
```

### 3. 获取各服务的API密钥

- **OpenAI API (ChatGPT)**
  1. 访问 [OpenAI平台](https://platform.openai.com/)
  2. 注册/登录账号
  3. 在"API Keys"页面创建新的密钥
  4. 复制密钥到`.env`文件的`OPENAI_API_KEY`字段

- **Google Gemini API**
  1. 访问 [Google AI Studio](https://makersuite.google.com/)
  2. 注册/登录Google账号
  3. 在API设置中获取API密钥
  4. 复制密钥到`.env`文件的`GEMINI_API_KEY`字段

- **DeepSeek API**
  1. 访问 [DeepSeek官网](https://www.deepseek.com/)
  2. 注册/登录账号
  3. 申请API访问权限并获取密钥
  4. 复制密钥到`.env`文件的`DEEPSEEK_API_KEY`字段

- **阿里云通义千问 API**
  1. 访问 [阿里云通义平台](https://dashscope.aliyun.com/)
  2. 注册/登录阿里云账号
  3. 在API管理中获取API密钥
  4. 复制密钥到`.env`文件的`QWEN_API_KEY`字段

- **火山引擎豆包 API**
  1. 访问 [火山引擎平台](https://www.volcengine.com/)
  2. 注册/登录账号
  3. 在控制台申请豆包模型的访问权限
  4. 在API设置或密钥管理中获取API密钥
  5. 复制密钥到`.env`文件的`DOUBAO_API_KEY`字段

> **注意**：你不需要配置所有API密钥。只需要配置你打算使用的服务对应的密钥即可。

## 启动应用

### 1. 开发模式启动（推荐用于测试）

```bash
npm run dev
```

使用这种方式启动时，当你修改代码后，服务器会自动重启，非常适合开发和测试。

### 2. 生产模式启动

```bash
npm start
```

### 3. 访问应用

启动服务器后，打开浏览器并访问：

```
http://localhost:3001
```

如果一切正常，你应该能看到TranOptim的主页面。

## 基本操作指南

### 文本翻译

1. 在首页默认显示的"文本输入"标签页中，输入需要翻译的文本
2. 从下拉菜单选择源语言和目标语言
3. 选择要使用的AI服务（如ChatGPT、Gemini等）
4. 点击"开始翻译"按钮
5. 等待片刻，翻译结果将显示在右侧区域
6. 可以点击"复制结果"按钮复制翻译内容

### 图片翻译

1. 点击顶部的"图片输入"标签页
2. 点击上传区域或拖放图片到指定区域
3. 选择源语言和目标语言
4. 选择要使用的AI服务（推荐使用Gemini，其图像理解能力较强）
5. 点击"开始翻译"按钮
6. 等待片刻，图片中提取的文字及翻译结果将显示在右侧

### 文本润色

1. 完成翻译后，点击"润色"按钮或"润色"标签
2. 或者直接在编辑区域输入需要润色的文本
3. 选择润色服务（如ChatGPT、DeepSeek-R1等）
4. 选择润色风格（专业正式、创意活泼、学术严谨、简洁明了）
5. 点击"开始润色"按钮
6. 等待片刻，润色结果将显示在下方区域

## 常见问题排查

### 1. 服务器无法启动

**症状**：运行`npm start`或`npm run dev`时出错

**可能原因和解决方案**：

- **端口被占用**：
  - 症状：出现`Error: listen EADDRINUSE: address already in use :::3001`错误
  - 解决方案：修改`.env`文件中的`PORT`值，或关闭占用该端口的其他程序

- **依赖包安装不完整**：
  - 症状：出现`Cannot find module '...'`错误
  - 解决方案：重新运行`npm install`，确保所有依赖正确安装

- **Node.js版本过低**：
  - 症状：出现语法错误或不支持某些功能
  - 解决方案：更新Node.js到14.0或更高版本

### 2. API调用失败

**症状**：点击"开始翻译"或"开始润色"后显示错误消息

**可能原因和解决方案**：

- **API密钥未设置或不正确**：
  - 症状：显示"请先设置XXX API密钥"或"认证失败"错误
  - 解决方案：检查`.env`文件中对应服务的API密钥是否正确设置

- **API请求超时**：
  - 症状：显示"请求超时"错误
  - 解决方案：检查网络连接，或尝试使用其他AI服务

- **API使用额度限制**：
  - 症状：显示"超出限额"或"请求过于频繁"错误
  - 解决方案：降低请求频率，或升级API计划

### 3. 图片上传问题

**症状**：无法上传图片或图片处理失败

**可能原因和解决方案**：

- **图片格式不支持**：
  - 症状：显示"只允许上传图片文件"错误
  - 解决方案：确保上传的是jpg、jpeg、png或gif格式的图片

- **图片太大**：
  - 症状：显示"文件太大"错误
  - 解决方案：图片大小限制为5MB，请压缩图片或使用更小的图片

### 4. 翻译或润色结果异常

**症状**：翻译或润色结果不符合预期或格式混乱

**可能原因和解决方案**：

- **输入文本过长**：
  - 症状：结果被截断或不完整
  - 解决方案：将长文本分成多个部分处理

- **特殊格式文本**：
  - 症状：代码、表格等特殊格式文本处理后格式混乱
  - 解决方案：尝试使用"简洁明了"风格润色，或将特殊格式部分单独处理

## 进阶使用技巧

### 1. 选择合适的AI服务

不同的AI服务有各自的优势，根据需求选择合适的服务可以获得更好的效果：

- **ChatGPT**：通用能力强，适合大多数翻译和润色需求
- **Gemini**：图像理解能力强，适合图片翻译
- **DeepSeek-R1**：中英文翻译和润色表现出色
- **Qwen2.5**：中文场景下翻译和润色质量高
- **豆包1.5-Pro**：专为中文优化，中文润色效果最佳

### 2. 润色风格选择指南

- **专业正式**：适合商务文档、正式报告、公司通讯
- **创意活泼**：适合营销文案、社交媒体帖子、广告语
- **学术严谨**：适合学术论文、研究报告、技术文档
- **简洁明了**：适合说明书、操作指南、简报

### 3. 提高翻译质量的技巧

- 提供足够的上下文：翻译短句时，添加一些上下文可以提高准确性
- 分段处理长文本：较长的文本分成段落逐段翻译，然后合并结果
- 专业术语处理：对于专业领域的翻译，可以先润色原文，再进行翻译

### 4. 图片翻译优化

- 使用清晰的图片：图片中的文字应当清晰可见，避免模糊或低分辨率图片
- 裁剪聚焦：如果图片中只有部分区域包含需要翻译的文字，可以裁剪图片聚焦于文字区域
- 避免复杂背景：文字背景简单的图片会获得更好的OCR识别效果

希望这份指南能帮助你充分利用TranOptim的全部功能。如有任何问题或建议，欢迎提交反馈！ 